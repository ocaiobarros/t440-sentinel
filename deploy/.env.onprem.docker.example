# ╔══════════════════════════════════════════════════════════════════╗
# ║  FLOWPULSE ON-PREMISE (Docker) — Variáveis de Ambiente          ║
# ║  Copie para deploy/.env e ajuste antes de subir.                ║
# ║  © 2026 CBLabs                                                  ║
# ╚══════════════════════════════════════════════════════════════════╝

# ─── URLs Públicas ─────────────────────────────────────────
# URL que o browser do usuário acessa (Nginx)
SITE_URL=http://flowpulse.local
# URL do Kong gateway (usada internamente e pelas edge functions)
API_EXTERNAL_URL=http://flowpulse.local

# ─── Portas ────────────────────────────────────────────────
FLOWPULSE_HTTP_PORT=80
KONG_HTTP_PORT=8000
KONG_HTTPS_PORT=8443
POSTGRES_PORT=5432

# ─── PostgreSQL ────────────────────────────────────────────
POSTGRES_PASSWORD=your-super-secret-and-long-postgres-password

# ─── JWT ───────────────────────────────────────────────────
# IMPORTANTE: Gere com: openssl rand -hex 32
# As ANON_KEY e SERVICE_ROLE_KEY são JWTs assinados com este secret.
JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters-long
JWT_EXPIRY=3600

# ─── Supabase Keys ────────────────────────────────────────
# Gere com: scripts/generate-keys.sh ou use https://supabase.com/docs/guides/self-hosting/docker#generate-api-keys
# São JWTs com role=anon e role=service_role, assinados pelo JWT_SECRET acima.
ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# ─── Realtime ──────────────────────────────────────────────
SECRET_KEY_BASE=UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq

# ─── Frontend (Build-time) ─────────────────────────────────
# Estas variáveis são usadas no `npm run build` do React/Vite.
# Devem apontar para o Kong via o Nginx proxy.
VITE_SUPABASE_URL=http://flowpulse.local
VITE_SUPABASE_PUBLISHABLE_KEY=${ANON_KEY}

# ─── Edge Functions — Secrets ──────────────────────────────
# Gere com: openssl rand -hex 32
ZABBIX_ENCRYPTION_KEY=__GENERATE_WITH_openssl_rand_hex_32__
FLOWPULSE_WEBHOOK_TOKEN=__GENERATE_WITH_openssl_rand_hex_32__

# ─── Opcionais ─────────────────────────────────────────────
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=
RMS_FUELING_API_TOKEN=

# ─── SMTP (Opcional — para emails de confirmação) ─────────
SMTP_ADMIN_EMAIL=admin@flowpulse.local
SMTP_HOST=
SMTP_PORT=2500
SMTP_SENDER_NAME=FlowPulse

# ─── Admin Seed ───────────────────────────────────────────
ADMIN_EMAIL=admin@flowpulse.local
ADMIN_PASSWORD=admin@123

# ─── Misc ─────────────────────────────────────────────────
DISABLE_SIGNUP=false
ADDITIONAL_REDIRECT_URLS=
